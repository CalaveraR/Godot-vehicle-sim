TireRigidBodyApplicator é uma classe utilitária (RefCounted) que centraliza a aplicação de forças e torques a um RigidBody3D no contexto de simulação de pneus. Ela consolida os diversos trechos de código espalhados pelos orquestradores (TireManager, TirePhysicsOrchestrator, etc.) que aplicavam forças diretamente.

Métodos
apply(body: RigidBody3D, forces: Dictionary, torque: Vector3, at_ws: Vector3) -> void
Aplica forças lineares e torque a um corpo rígido.

Parâmetros:

body: Referência para o RigidBody3D que receberá as forças.

forces: Dicionário contendo os componentes de força. Espera-se as chaves:

"Fx" (float): componente X da força (sistema de coordenadas do Godot).

"Fy" (float): componente Y da força.

"Fz" (float): componente Z da força.
Opcionalmente, pode incluir "Mx", "My", "Mz" para torque (usado apenas se torque for zero).

torque: Vetor de torque explícito. Se não for zero, sobrepõe qualquer torque vindo do dicionário.

at_ws: Ponto de aplicação da força em coordenadas globais (world space). Se for Vector3.ZERO ou igual à posição do corpo, a força é aplicada centralmente (apply_central_force). Caso contrário, a força é aplicada no ponto especificado (apply_force).

Comportamento:

Extrai o vetor de força linear das chaves "Fx", "Fy", "Fz" do dicionário.

Se at_ws indicar aplicação central, usa apply_central_force; senão, calcula o vetor relativo e usa apply_force.

Se torque não for zero, aplica-o com apply_torque.

Se torque for zero, tenta extrair torque do dicionário ("Mx", "My", "Mz") e aplica se não for zero.

Observações:

O dicionário não realiza nenhuma reinterpretação dos eixos – o chamador deve garantir que os componentes Fx, Fy, Fz estejam alinhados com o sistema de coordenadas do Godot (X direita, Y cima, Z frente).

A separação entre força central e força em ponto permite simular corretamente momentos gerados pela distribuição de pressão no contato do pneu.

Exemplo de uso (adaptado do TirePhysicsOrchestrator):

gdscript
var applicator = TireRigidBodyApplicator.new()

# Forças calculadas pelo modelo de pincel
var forces = {
    "Fx": 1200.0,   # longitudinal (X)
    "Fy": 300.0,    # lateral (Z) – já mapeado para Z pelo chamador
    "Fz": 4000.0,   # vertical (Y)
    "Mz": 50.0      # torque de alinhamento
}

# Aplica força central e torque
applicator.apply(vehicle_body, forces, Vector3.ZERO, Vector3.ZERO)

# Aplica força adicional no centro de pressão
var patch_center = pressure_dist.calculate_pressure_center(...)
applicator.apply(vehicle_body, {"Fx": 300, "Fy": 0, "Fz": 0}, Vector3.ZERO, patch_center)
Chamadas Internas Utilizadas
O script faz uso dos seguintes métodos da classe RigidBody3D:

apply_central_force(force: Vector3)

apply_force(force: Vector3, position: Vector3)

apply_torque(torque: Vector3)

Justificativa
Centralizar a aplicação de forças reduz duplicação, facilita manutenção e garante consistência (ex.: todos os locais usam a mesma lógica para decidir entre força central e pontual). Futuras alterações (como adicionar logging, debug visual, ou suporte a múltiplos pontos) podem ser feitas em um único lugar.